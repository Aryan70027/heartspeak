<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Birthday Surprise! ðŸŽ‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      min-height: 100vh;
      background: url('birthday_background_premium.png') no-repeat center center fixed, linear-gradient(135deg, #fbeaff, #ffe0f1, #e0ffe6);
      background-size: cover;
      font-family: 'Comic Sans MS', 'Poppins', cursive, sans-serif;
      color: #711b47;
      overflow: hidden;
    }
    .center {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh; text-align: center; position: relative; z-index: 1;
      animation: fadeIn 1s;
    }
    @keyframes fadeIn {
      0% {opacity:0;transform:scale(0.95);}
      100% {opacity:1;transform:scale(1);}
    }
    .hidden { display: none; }
    .main-btn {
      background: linear-gradient(90deg,#ff7eb3,#ff758c,#42e695); color: #fff;
      padding: 16px 40px; border-radius: 30px; border: none; margin-top: 32px;
      font-size: 1.2rem; box-shadow: 0 2px 24px #ffb5ec99;
      cursor: pointer; transition: .2s; font-weight: bold;
      outline: none;
    }
    .main-btn:hover { transform: scale(1.05);}
    .birthday-cake {
      width: 170px; margin: 24px auto; display: block;
      animation: popCake 1s;
    }
    @keyframes popCake {
      0% { transform: scale(0.7) translateY(60px); opacity: 0;}
      100% { transform: scale(1) translateY(0); opacity: 1;}
    }
    .giftbox {
      width: 150px; margin: 32px auto; display: block;
      cursor: pointer; transition: .2s;
      animation: popGift 1s;
    }
    .giftbox:hover { transform: scale(1.08) rotate(-3deg);}
    @keyframes popGift {
      0% { transform: scale(0.5) rotate(-10deg); opacity: 0;}
      100% { transform: scale(1) rotate(0deg); opacity: 1;}
    }
    .confetti {
      position: absolute; width: 100vw; height: 100vh; pointer-events: none; z-index: 10;
      left: 0; top: 0;
    }
    .photo-frame {
      background: #fff8fd; border-radius: 18px; box-shadow: 0 0 24px #ffdefc66;
      padding: 16px 16px 10px; margin: 20px auto 14px; display: inline-block;
      border: 2.5px solid #ffb5ec;
      position: relative;
      animation: fadeIn 1s;
    }
    .photo-frame img {
      max-width: 170px; border-radius: 12px;
      box-shadow: 0 2px 12px #ffd9fa80;
      display: block; margin: 0 auto 6px;
    }
    .caption {
      font-size: 1.1rem; color: #d857a5; margin-top: 7px;
    }
    /* Floating decorations */
    .emoji-float {
      position: absolute; font-size: 2rem; animation: floaty 3s infinite alternate;
      pointer-events: none;
    }
    .emoji1 { top: 12%; left: 10%; animation-delay: .3s;}
    .emoji2 { top: 8%; right: 11%; animation-delay: 1s;}
    .emoji3 { bottom: 9%; left: 13%; animation-delay: .9s;}
    .emoji4 { bottom: 13%; right: 16%; animation-delay: 1.5s;}
    @keyframes floaty {
      0% {transform: translateY(0);}
      100% {transform: translateY(-16px);}
    }
    /* Letter scroll */
    .scroll-letter {
      width: 95%; max-width: 560px; margin: 0 auto 30px auto; background: #fdf6e3;
      border-radius: 35px; box-shadow: 0 0 28px #e6d6b8aa;
      border: 2.5px solid #e0b56f;
      padding: 34px 32px 28px 32px; color: #664900;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.15em; text-align: left; position: relative;
      animation: fadeIn 1s;
    }
    /* Balloons (background) */
    #balloon-bg {position: fixed; left:0; top:0; width:100vw; height:100vh; z-index:0; pointer-events:none;}
    .balloon {
      position: absolute; width: 36px; height: 46px;
      border-radius: 50% 50% 48% 48%;
      background: radial-gradient(circle at 65% 35%, #fff6, #fff1 55%, transparent 70%), #ff8ec9;
      border: 2px solid #ff7eb3;
      animation: floatUp linear infinite;
    }
    @keyframes floatUp {
      0% {transform:translateY(0) scale(1);}
      100% {transform:translateY(-120vh) scale(1.08);}
    }
    .reply-box {
      background: #fff7fc; border-radius: 20px; box-shadow: 0 0 20px #ffb5ec33;
      padding: 18px 16px; margin: 22px auto 0; width: 90%; max-width: 370px; text-align: left;
    }
    .reply-box input, .reply-box textarea {
      border: none; outline: none; width: 100%; font-size: 1rem; margin-top: 9px;
      border-radius: 9px; padding: 8px 10px; background: #f7f7fa; color: #a0406e;
      box-shadow: 0 1px 4px #efc4e440;
      margin-bottom: 11px;
    }
    .reply-box button {
      background: linear-gradient(90deg,#d557ff,#ff758c,#42e695);
      color: #fff; font-weight: bold; border: none;
      border-radius: 30px; padding: 10px 32px; font-size: 1rem;
      box-shadow: 0 2px 16px #ffb5ec55; cursor: pointer;
      margin-top: 10px;
    }
    .small-text { font-size: 0.92em; color: #b36e93;}
  </style>
</head>
<body>
  <!-- Level Containers -->
  <canvas id="balloon-bg"></canvas>
  <div id="level1" class="center">
    <span class="emoji-float emoji1">ðŸŽˆ</span>
    <span class="emoji-float emoji2">ðŸ©·</span>
    <span class="emoji-float emoji3">ðŸŽ‰</span>
    <span class="emoji-float emoji4">ðŸ’š</span>
    <img src="cake.png" alt="Cake" class="birthday-cake">
    <h1>Itâ€™s your special day!</h1>
    <p class="small-text" style="margin-top:14px;">Wishing you a magical birthday full of surprises.</p>
    <button class="main-btn" onclick="nextLevel(2)">Open Your Surprise</button>
  </div>
  <div id="level2" class="center hidden">
    <canvas class="confetti"></canvas>
    <img src="giftbox.png" alt="Gift" class="giftbox" id="giftbox" onclick="openGift()">
    <h2 id="gift-text">Tap the gift to open!</h2>
  </div>
  <div id="level3" class="center hidden">
    <img src="cake.png" alt="Cake" class="birthday-cake">
    <h2>ðŸŽ‚ Happy Birthday! ðŸŽ‚</h2>
    <p id="mainMsg" style="margin-top:20px;">Happy Birthday to an amazing soul! Wishing you laughter, love, and all your dreams coming true.</p>
    <button class="main-btn" onclick="nextLevel(4)">See Memories</button>
  </div>
  <div id="level4" class="center hidden">
    <div class="photo-frame">
      <img src="memory1.png" alt="Memory Photo" id="memoryImg">
      <div class="caption" id="memoryCaption">Hereâ€™s a memory I cherish with youâ€¦</div>
    </div>
    <button class="main-btn" onclick="nextLevel(5)">Read My Wish</button>
  </div>
  <div id="level5" class="center hidden">
    <div class="scroll-letter" id="letterScroll" style="display:none;"></div>
    <button class="main-btn" id="showReplyBtn" style="display:none;" onclick="nextLevel(6)">Reply & Say Thanks</button>
  </div>
  <div id="level6" class="center hidden">
    <div class="reply-box">
      <div style="font-weight:600; font-size:1.08em; margin-bottom:6px;">Send a thank you or reply ðŸŽ‰</div>
      <input type="text" placeholder="Your Name (optional)">
      <textarea rows="3" placeholder="Write your message..."></textarea>
      <input type="file" accept="image/*,audio/*">
      <button onclick="submitReply()">Send Reply</button>
      <div id="replySent" style="margin-top:10px;display:none;">ðŸŽ‰ Your reply is sent! <br><span style="font-size:0.98em;color:#be5e92;">Want to create your own card? <a href='#' style="color:#be5e92;text-decoration:underline;">Login here</a></span></div>
    </div>
  </div>
  <audio id="bdayMusic" src="birthday-jingle.mp3" loop preload="auto"></audio>
<script>
let currentLevel = 1;
function nextLevel(n) {
  document.getElementById('level'+currentLevel).classList.add('hidden');
  document.getElementById('level'+n).classList.remove('hidden');
  currentLevel = n;
  if(n===2) startConfetti();
  if(n===3) stopConfetti();
  if(n===5) showLetter();
}
document.addEventListener('DOMContentLoaded',()=>{
  // Autoplay music after first user interaction
  let music = document.getElementById('bdayMusic');
  document.body.addEventListener('click', function startMusic(){
    music.volume = 0.35; music.play().catch(()=>{});
    document.body.removeEventListener('click',startMusic);
  });
  // Balloons
  drawBalloons();
});
/* GIFT ANIMATION (Level 2) */
function openGift(){
  document.getElementById('giftbox').src='giftbox_open.png'; // use your open gift image
  document.getElementById('gift-text').innerHTML='Surprise! ðŸŽ‚';
  setTimeout(()=>nextLevel(3),1200);
}
/* Confetti Canvas (simple) */
let confettiInt;
function startConfetti() {
  let canvas = document.querySelector('.confetti');
  let ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth; canvas.height = window.innerHeight;
  let confs = [];
  for(let i=0;i<70;i++){
    confs.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height/2,
      r:Math.random()*7+5,
      d:Math.random()*10+5,
      color:["#f08080","#ffe066","#b2f7ef","#c299fc","#fff","#e0ffe6","#ff758c"][Math.floor(Math.random()*7)],
      tilt:Math.random()*10-5
    });
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confs.forEach(function(c){
      ctx.beginPath();ctx.arc(c.x,c.y,c.r,0,2*Math.PI);
      ctx.fillStyle=c.color;ctx.fill();
    });
    update();
  }
  function update(){
    confs.forEach(function(c){
      c.y+=c.d*0.18;
      c.x+=Math.sin(c.y*0.03)*2;
      if(c.y>canvas.height+10) c.y=-10;
    });
  }
  confettiInt = setInterval(draw,24);
}
function stopConfetti(){ clearInterval(confettiInt); }
/* Typewriter Letter (Level 5) */
function showLetter() {
  let msg = `Dear Friend,\n\nWishing you joy, laughter, and love on your special day.\nMay this year bring you unforgettable moments and endless happiness.\n\nHappy Birthday once again!\n`;
  let el = document.getElementById('letterScroll');
  el.innerHTML = "";
  el.style.display = "block";
  let i=0;
  let typing = setInterval(()=>{
    if(i<msg.length) {
      el.innerHTML += msg[i]==='\n' ? '<br>' : msg[i];
      i++;
    } else {
      clearInterval(typing);
      document.getElementById('showReplyBtn').style.display = 'inline-block';
    }
  }, 35);
}
/* Balloons (background) */
function drawBalloons() {
  let canvas = document.getElementById('balloon-bg');
  let ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth; canvas.height = window.innerHeight;
  let balloons = [];
  for(let i=0;i<12;i++){
    balloons.push({
      x:Math.random()*canvas.width,
      y:canvas.height+Math.random()*100,
      r:16+Math.random()*8,
      color:["#ff8ec9","#b2f7ef","#ffe066","#ff758c","#e0ffe6"][Math.floor(Math.random()*5)],
      s:1+Math.random()*0.4,
      sp:1.5+Math.random()*0.8
    });
  }
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    balloons.forEach(function(b){
      ctx.beginPath();
      ctx.ellipse(b.x,b.y,b.r,b.r*1.3,0,0,2*Math.PI);
      ctx.fillStyle=b.color;ctx.globalAlpha=0.8;ctx.fill();ctx.globalAlpha=1;
      ctx.beginPath();
      ctx.moveTo(b.x,b.y+b.r*1.3);
      ctx.lineTo(b.x,b.y+b.r*1.8);
      ctx.strokeStyle="#b173a7";ctx.lineWidth=2;ctx.stroke();
    });
    update();
  }
  function update(){
    balloons.forEach(function(b){
      b.y-=b.sp;
      b.x+=Math.sin(b.y*0.03)*1.4;
      if(b.y<-70) { b.y=canvas.height+40; b.x=Math.random()*canvas.width;}
    });
  }
  setInterval(draw,30);
}
/* Reply */
function submitReply(){
  document.querySelector('#replySent').style.display='block';
}
</script>
</body>
</html>
